webpackJsonp([28],{187:function(t,e,a){function i(t){a(297)}var n=a(5)(a(236),a(330),i,"data-v-3aab4eed",null);t.exports=n.exports},209:function(t,e,a){"use strict";function i(t){return a.i(l.a)("/apply/get",t,"post")}function n(t){return a.i(l.a)("/apply/delete?"+t,t,"get")}function o(t){return a.i(l.a)("/apply/get?"+t,t,"get")}e.e=i,e.g=n,e.f=o;var l=a(32)},236:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(13),o=a.n(n),l=a(6),r=a(209);e.default={data:function(){var t=this;return{List:[{value:"1",label:"提交未受理"},{value:"2",label:"受理通过未审批"},{value:"3",label:"审批通过"},{value:"4",label:"受理驳回"},{value:"5",label:"审批驳回"}],sort:[{value:"1",label:"首次申请"},{value:"2",label:"变更申请"},{value:"3",label:"停用申请"},{value:"4",label:"报废申请"},{value:"5",label:"停用后启用申请"}],applyState:"",applyType:"",columns5:[{type:"index",key:"id",width:60,fixed:"left"},{title:"设备种类",key:"deviceCategory",width:120,fixed:"left"},{title:"设备代码",key:"eqCode",width:120},{title:"单位内编号",key:"eqComCode",width:120},{title:"申请类别",key:"applyType",width:120},{title:"登记类别",key:"registKind",width:120},{title:"申请日期",key:"applyDate",width:125},{title:"登记机关",key:"acceptorAgencyName",width:120},{title:"受理通过告知日期",key:"acceptTellDate",width:125},{title:"不予受理告知日期",key:"unAcceptTellDate",width:125},{title:"不予受理原因",key:"unAcceptedReason",width:140},{title:"登记发证日期",key:"approvalDate",width:125},{title:"不予登记告知日期",key:"unApprovalDate",width:125},{title:"不予登记告知原因",key:"unApprovalReason",width:140},{title:"使用登记证编号",key:"registCode",width:150},{title:"使用登记证编号",key:"state",width:0},{title:"操作",key:"opera",fixed:"right",width:120,render:function(e,a){return"已提交待受理"==a.row.state?e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px",fontSize:"5px"},on:{click:function(){t.appDetail(a.index)}}},"详情"),e("Button",{props:{type:"error",size:"small"},style:{marginleft:"5px",fontSize:"5px"},on:{click:function(){t.deleteApp(a.index)}}},"删除"),e("Button",{props:{type:"warning",size:"small"},style:{marginleft:"5px",fontSize:"5px"},on:{click:function(){t.modifyApp(a.index)}}},"修改")]):e("div",[e("Button",{props:{type:"primary"},style:{marginRight:"5px",fontSize:"5px"},on:{click:function(){t.appDetail(a.index)}}},"详情")])}}],data5:[],state:{0:"待处理",1:"已通过",2:"已驳回"},params:{time:"",sort:"",state:"",page:1},time:"",num:0,currentPage:1,applyId:"",eqCode:""}},activated:function(){this.initData()},methods:o()({},a.i(l.b)(["selectedDeviceOption","changeBackTime"]),{initData:function(){this.time=["",""],this.applyType="",this.applyState="";var t={page:0,size:10};t.states=[1,2,3,4,5],this.getOrders(t),this.$refs.pages.currentPage=1},clear:function(){this.initData()},getOrders:function(t){var e=this;r.e(t).then(function(t){if(200===t.status){e.data5=t.data.content,e.num=t.data.totalElements;for(var a=0;a<t.data.content.length;a++)e.data5[a].state=t.data.content[a].status.states,e.changeBackTime(t.data.content[a].status.applyDate),e.data5[a].applyDate=e.getBackTime,e.changeBackTime(t.data.content[a].status.acceptTellDate),e.data5[a].acceptTellDate=e.getBackTime,e.changeBackTime(t.data.content[a].status.unAcceptTellDate),e.data5[a].unAcceptTellDate=e.getBackTime,e.changeBackTime(t.data.content[a].status.approvalDate),e.data5[a].approvalDate=e.getBackTime,e.changeBackTime(t.data.content[a].status.unApprovalDate),e.data5[a].unApprovalDate=e.getBackTime}else e.data5=[]}).catch(function(t){console.log(t)})},exactSearch:function(){var t=this;if(this.eqCode){this.time=["",""],this.applyType="",this.applyState="";var e="eqCode="+this.eqCode;r.f(e).then(function(e){console.log(e),200===e.status?(t.data5=[e.data],t.data5[0].state=e.data.status.states,t.changeBackTime(e.data.content[i].status.applyDate),t.data5[i].applyDate=t.getBackTime,t.changeBackTime(e.data.content[i].status.acceptTellDate),t.data5[i].acceptTellDate=t.getBackTime,t.changeBackTime(e.data.content[i].status.unAcceptTellDate),t.data5[i].unAcceptTellDate=t.getBackTime,t.changeBackTime(e.data.content[i].status.approvalDate),t.data5[i].approvalDate=t.getBackTime,t.changeBackTime(e.data.content[i].status.unApprovalDate),t.data5[i].unApprovalDate=t.getBackTime,t.num=e.data.length):401===e.status&&t.$Notice.error({title:"这是通知标题",desc:e.msg})}).catch(function(t){console.log(t)})}},changeTime:function(t){return[t[0].getFullYear()+"-"+(parseInt(t[0].getMonth())+1)+"-"+t[0].getDate(),t[1].getFullYear()+"-"+(parseInt(t[1].getMonth())+1)+"-"+t[1].getDate()]},makeParams:function(t,e,a,i,n){var o={};return o.page=t,o.size=e,""!==a&&""!==a[0]&&""!==a[1]&&(o.time=this.changeTime(a)),""!==i&&(o.states=[parseInt(i),parseInt(i)]),""!==n&&(o.applyTypeId=parseInt(n)),o},query:function(){this.$refs.pages.currentPage=1;var t=this.makeParams(0,10,this.time,this.applyState,this.applyType);this.getOrders(t)},initSize:function(t){var e=this.makeParams(t-1,10,this.time,this.applyState,this.applyType);e.states=[1,2,3,4,5],this.getOrders(e)},deleteApp:function(t){var e=this;this.$Modal.confirm({title:"确认对话框标题",content:"<p>确认删除该条申请？</p>",onOk:function(){var a="applyId="+e.data5[t].id;r.g(a).then(function(t){if(200==t.status){var a=e.makeParams(0,10,e.time,e.applyState,e.applyType);a.states=[1,2,3,4,5],e.getOrders(a)}}).catch(function(t){console.log(t)})},onCancel:function(){e.$Message.info("点击了取消")}})},appDetail:function(t){this.$router.push({path:"appDetail",query:{applyId:this.data5[t].id}})}}),computed:o()({},a.i(l.c)(["selectedOption"]),a.i(l.a)(["getSelectedOption","getBackTime"]))}},264:function(t,e,a){e=t.exports=a(168)(!0),e.push([t.i,".filter-box[data-v-3aab4eed]{display:block;border:1px solid #e5e5e5;border-top-left-radius:0;border-top-right-radius:0;border-bottom-right-radius:3px;border-bottom-left-radius:3px;padding:10px;margin-top:10px;box-sizing:border-box}.filter-box .query[data-v-3aab4eed]{float:right;margin-right:60px;margin-top:10px}.innerBox[data-v-3aab4eed]{border-top:1px solid #e5e5e5;padding-top:10px;margin-top:10px}.list-box[data-v-3aab4eed]{display:block;height:400px;border-top-left-radius:0;border-top-right-radius:0;border-bottom-right-radius:3px;border-bottom-left-radius:3px;border-color:#dddee1;margin-top:10px;box-sizing:border-box}.list-box .page[data-v-3aab4eed]{float:right;margin:10px}.ivu-table td.demo-table-info-column[data-v-3aab4eed]{background-color:#2db7f5;color:#fff}","",{version:3,sources:["/Users/zhangyunlong/Downloads/my-project/src/page/apply/orderStatus/applyerList.vue"],names:[],mappings:"AACA,6BACE,cAAe,AACf,yBAA0B,AAC1B,yBAA0B,AAC1B,0BAA2B,AAC3B,+BAAgC,AAChC,8BAA+B,AAC/B,aAAc,AACd,gBAAiB,AACjB,qBAAuB,CACxB,AACD,oCACI,YAAa,AACb,kBAAmB,AACnB,eAAiB,CACpB,AACD,2BACE,6BAA8B,AAC9B,iBAAkB,AAClB,eAAiB,CAClB,AACD,2BACE,cAAe,AACf,aAAc,AACd,yBAA0B,AAC1B,0BAA2B,AAC3B,+BAAgC,AAChC,8BAA+B,AAC/B,qBAAsB,AACtB,gBAAiB,AACjB,qBAAuB,CACxB,AACD,iCACI,YAAa,AACb,WAAa,CAChB,AACD,sDACE,yBAA0B,AAC1B,UAAY,CACb",file:"applyerList.vue",sourcesContent:["\n.filter-box[data-v-3aab4eed] {\n  display: block;\n  border: 1px solid #e5e5e5;\n  border-top-left-radius: 0;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 3px;\n  border-bottom-left-radius: 3px;\n  padding: 10px;\n  margin-top: 10px;\n  box-sizing: border-box;\n}\n.filter-box .query[data-v-3aab4eed] {\n    float: right;\n    margin-right: 60px;\n    margin-top: 10px;\n}\n.innerBox[data-v-3aab4eed] {\n  border-top: 1px solid #e5e5e5;\n  padding-top: 10px;\n  margin-top: 10px;\n}\n.list-box[data-v-3aab4eed] {\n  display: block;\n  height: 400px;\n  border-top-left-radius: 0;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 3px;\n  border-bottom-left-radius: 3px;\n  border-color: #dddee1;\n  margin-top: 10px;\n  box-sizing: border-box;\n}\n.list-box .page[data-v-3aab4eed] {\n    float: right;\n    margin: 10px;\n}\n.ivu-table td.demo-table-info-column[data-v-3aab4eed] {\n  background-color: #2db7f5;\n  color: #fff;\n}\n"],sourceRoot:""}])},297:function(t,e,a){var i=a(264);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(169)("632d16cd",i,!0)},330:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"waitAcceptList"},[a("div",{staticClass:"filter-box"},[a("Row",[a("Col",{attrs:{span:"9"}},[a("label",[t._v("申请时间")]),t._v(" "),a("Date-picker",{staticStyle:{width:"220px",display:"inline-block"},attrs:{type:"daterange",placeholder:"选择日期",format:"yyyy/MM/dd"},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1),t._v(" "),a("Col",{attrs:{span:"8"}},[a("label",[t._v("申请类别")]),t._v(" "),a("Select",{staticStyle:{width:"180px"},model:{value:t.applyType,callback:function(e){t.applyType=e},expression:"applyType"}},t._l(t.sort,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(" "+t._s(e.label))])}))],1),t._v(" "),a("Col",{attrs:{span:"7"}},[a("label",[t._v("申请状态")]),t._v(" "),a("Select",{staticStyle:{width:"180px"},attrs:{placeholder:"请选择"},model:{value:t.applyState,callback:function(e){t.applyState=e},expression:"applyState"}},t._l(t.List,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(" "+t._s(e.label))])}))],1),t._v(" "),a("Button",{staticClass:"query",attrs:{type:"ghost"},on:{click:function(e){t.clear()}}},[t._v("清空筛选")]),t._v(" "),a("Button",{staticClass:"query",attrs:{type:"primary"},on:{click:t.query}},[t._v("查询")])],1),t._v(" "),a("div",{staticClass:"innerBox"},[a("Row",[a("Col",[a("label",[t._v("设备代码精准搜索")]),t._v(" "),a("Input",{staticStyle:{width:"180px"},attrs:{placeholder:"请输入设备代码"},model:{value:t.eqCode,callback:function(e){t.eqCode=e},expression:"eqCode"}}),t._v(" "),a("Button",{staticClass:"query",attrs:{type:"primary"},on:{click:t.exactSearch}},[t._v("搜索")])],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"list-box"},[a("Table",{attrs:{border:"",columns:t.columns5,data:t.data5,width:"800px"}}),t._v(" "),a("Page",{ref:"pages",staticClass:"page",attrs:{total:this.num,size:"small","show-elevator":"",current:this.currentPage,"page-size":10},on:{"on-change":t.initSize}})],1)])},staticRenderFns:[]}}});
//# sourceMappingURL=28.2193ad495716d76765a0.js.map