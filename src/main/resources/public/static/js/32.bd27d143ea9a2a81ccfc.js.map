{"version":3,"sources":["webpack:///static/js/32.bd27d143ea9a2a81ccfc.js","webpack:///./src/page/message/message.vue","webpack:///message.vue","webpack:///./src/page/message/message.vue?d7d5","webpack:///./src/page/message/message.vue?034e","webpack:///./src/page/message/message.vue?a131"],"names":["webpackJsonp","677","module","exports","__webpack_require__","injectStyle","ssrContext","Component","729","__webpack_exports__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__services_message__","name","data","_this","this","markAsreadBtn","h","params","props","size","on","click","hasreadMesList","unshift","currentMesList","splice","index","submitParams","row","id","then","res","status","$Message","info","catch","error","console","log","author_key","unreadMesList","recyclebinList","systemMsgList","currentMessageType","showMesTitleList","unreadCount","hasreadCount","recyclebinCount","systemMsgCount","noDataText","mes","title","time","content","mesTitleColumns","key","align","ellipsis","render","$router","push","path","query","applyId","detailUrl","width","type","style","margin","createTime","methods","formatDate","date","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","backMesTitleList","setCurrentMesType","mounted","_this2","localStorage","getItem","length","watch","arr","769","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","804","locals","840","_vm","_h","$createElement","_c","_self","staticClass","attrs","long","$event","directives","rawName","expression","_v","class-name","count","_e","ref","columns","no-data-text","_s","staticRenderFns"],"mappings":"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","file":"static/js/32.bd27d143ea9a2a81ccfc.js","sourcesContent":["webpackJsonp([32],{\n\n/***/ 677:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(804)\n}\nvar Component = __webpack_require__(47)(\n  /* script */\n  __webpack_require__(729),\n  /* template */\n  __webpack_require__(840),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 729:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__services_message__ = __webpack_require__(138);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'message',\n  data: function data() {\n    var _this = this;\n\n    var markAsreadBtn = function markAsreadBtn(h, params) {\n      return h('Button', {\n        props: {\n          size: 'small'\n        },\n        on: {\n          click: function click() {\n            _this.hasreadMesList.unshift(_this.currentMesList.splice(params.index, 1)[0]);\n            // console.log(params);\n            var submitParams = [params.row.id];\n            __WEBPACK_IMPORTED_MODULE_0__services_message__[\"c\" /* noticeRead */](submitParams).then(function (res) {\n              if (res.status == 200) {\n                _this.$Message.info('该条消息已阅读');\n              }\n            }).catch(function (error) {\n              console.log(error);\n            });\n          }\n        }\n      }, '标为已读');\n    };\n    var deleteMesBtn = function deleteMesBtn(h, params) {\n      return h('Button', {\n        props: {\n          size: 'small',\n          type: 'error'\n        },\n        on: {\n          click: function click() {\n            _this.recyclebinList.unshift(_this.hasreadMesList.splice(params.index, 1)[0]);\n          }\n        }\n      }, '删除');\n    };\n    var restoreBtn = function restoreBtn(h, params) {\n      return h('Button', {\n        props: {\n          size: 'small'\n        },\n        on: {\n          click: function click() {\n            _this.hasreadMesList.unshift(_this.recyclebinList.splice(params.index, 1)[0]);\n          }\n        }\n      }, '还原');\n    };\n    return {\n      author_key: '',\n      currentMesList: [],\n      unreadMesList: [],\n      hasreadMesList: [],\n      recyclebinList: [],\n      systemMsgList: [],\n      currentMessageType: 'unread',\n      showMesTitleList: true,\n      unreadCount: 0,\n      hasreadCount: 0,\n      recyclebinCount: 0,\n      systemMsgCount: 0,\n      noDataText: '暂无未读消息',\n      mes: {\n        title: '',\n        time: '',\n        content: ''\n      },\n      mesTitleColumns: [\n      // {\n      //     type: 'selection',\n      //     width: 50,\n      //     align: 'center'\n      // },\n      {\n        title: ' ',\n        key: 'content',\n        align: 'left',\n        ellipsis: true,\n        render: function render(h, params) {\n          if (_this.currentMessageType === 'systemMsg') {\n            return h('span', {}, params.row.content);\n          }\n          if (_this.currentMessageType === 'unread' || _this.currentMessageType === 'hasread') {\n            return h('a', {\n              on: {\n                click: function click() {\n                  //                    this.showMesTitleList = false;\n                  //                    this.mes.title = params.row.content;\n                  //                    this.mes.time = this.formatDate(params.row.createTime);\n                  //                    this.getContent(params.index);\n                  var submitParams = [params.row.id];\n                  __WEBPACK_IMPORTED_MODULE_0__services_message__[\"c\" /* noticeRead */](submitParams).then(function (res) {\n                    if (res.status == 200) {\n                      _this.$router.push({\n                        path: 'appDetail',\n                        query: {\n                          applyId: params.row.detailUrl\n                        }\n                      });\n                      _this.hasreadMesList.unshift(_this.currentMesList.splice(params.index, 1)[0]);\n                      _this.$Message.info('该条消息已阅读');\n                    }\n                  }).catch(function (error) {\n                    console.log(error);\n                  });\n                }\n              }\n            }, params.row.content);\n          }\n        }\n      }, {\n        title: ' ',\n        key: 'time',\n        align: 'center',\n        width: 200,\n        render: function render(h, params) {\n          return h('span', [h('Icon', {\n            props: {\n              type: 'android-time',\n              size: 12\n            },\n            style: {\n              margin: '0 5px'\n            }\n          }), h('span', {\n            props: {\n              type: 'android-time',\n              size: 12\n            }\n          }, params.row.createTime)]);\n        }\n      }, {\n        title: ' ',\n        key: 'asread',\n        align: 'center',\n        width: 100,\n        render: function render(h, params) {\n          if (_this.currentMessageType === 'unread') {\n            return h('div', [markAsreadBtn(h, params)]);\n          } else if (_this.currentMessageType === 'hasread') {\n            //                return h('div', [\n            //                  deleteMesBtn(h, params)\n            //                ]);\n          } else {\n              //                return h('div', [\n              //                  restoreBtn(h, params)\n              //                ]);\n            }\n        }\n      }]\n    };\n  },\n\n  methods: {\n    formatDate: function formatDate(time) {\n      var date = new Date(time);\n      var year = date.getFullYear();\n      var month = date.getMonth() + 1;\n      var day = date.getDate();\n      var hour = date.getHours();\n      var minute = date.getMinutes();\n      var second = date.getSeconds();\n      return year + '/' + month + '/' + day + '  ' + hour + ':' + minute + ':' + second;\n    },\n    backMesTitleList: function backMesTitleList() {\n      this.showMesTitleList = true;\n    },\n    setCurrentMesType: function setCurrentMesType(type) {\n      if (this.currentMessageType !== type) {\n        this.showMesTitleList = true;\n      }\n      this.currentMessageType = type;\n      if (type === 'unread') {\n        this.noDataText = '暂无未读消息';\n        this.currentMesList = this.unreadMesList;\n      } else if (type === 'hasread') {\n        this.noDataText = '暂无已读消息';\n        this.currentMesList = this.hasreadMesList;\n      } else {\n        this.noDataText = '无系统消息';\n        this.currentMesList = this.systemMsgList;\n      }\n    }\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    this.author_key = localStorage.getItem('author_key');\n    console.log(this.author_key == 1);\n    if (this.author_key == 1) {\n      this.currentMessageType = 'unread';\n    } else {\n      this.currentMessageType = 'systemMsg';\n    }\n    __WEBPACK_IMPORTED_MODULE_0__services_message__[\"a\" /* getReminder */]().then(function (res) {\n      // console.log(res.length)\n      // localStorage.setItem('reminder', res.length);\n      _this2.currentMesList = _this2.unreadMesList = res;\n    }).catch(function (error) {\n      console.log(error);\n    });\n    __WEBPACK_IMPORTED_MODULE_0__services_message__[\"d\" /* getReadReminder */]().then(function (res) {\n      _this2.hasreadMesList = res;\n    }).catch(function (error) {\n      console.log(error);\n    });\n    __WEBPACK_IMPORTED_MODULE_0__services_message__[\"b\" /* getSystemMsg */]().then(function (res) {\n\n      if (_this2.author_key == 1) {\n        _this2.systemMsgList = res;\n      } else {\n        _this2.currentMesList = _this2.systemMsgList = res;\n      }\n    }).catch(function (error) {\n      console.log(error);\n    });\n    this.unreadCount = this.unreadMesList.length;\n    this.hasreadCount = this.hasreadMesList.length;\n    this.systemMsgCount = this.systemMsgList.length;\n  },\n\n  watch: {\n    unreadMesList: function unreadMesList(arr) {\n      this.unreadCount = arr.length;\n    },\n    hasreadMesList: function hasreadMesList(arr) {\n      this.hasreadCount = arr.length;\n    },\n    systemMsgList: function systemMsgList(arr) {\n      this.systemMsgCount = arr.length;\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 769:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(648)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".message-main-con{position:absolute;left:0;top:0;right:0;bottom:0}.message-mainlist-con{position:absolute;left:0;top:10px;width:300px;bottom:0;padding:10px 0}.message-mainlist-con div{padding:10px;margin:0 20px;border-bottom:1px dashed #d2d3d2}.message-mainlist-con div:last-child{border:none}.message-mainlist-con div .message-count-badge-outer{float:right}.message-mainlist-con div .message-count-badge{background:#d2d3d2}.message-mainlist-con div:first-child .message-count-badge{background:#ed3f14}.message-mainlist-con div .mes-type-btn-text{margin-left:10px}.message-content-con{position:absolute;top:10px;right:10px;bottom:10px;left:300px;background:#fff;border-radius:3px;box-shadow:2px 2px 10px 2px rgba(0,0,0,.1);overflow:auto}.message-content-con .message-title-list-con{width:100%;height:100%}.message-content-con .message-content-top-bar{height:40px;width:100%;background:#fff;position:absolute;left:0;top:0;border-bottom:1px solid #dededb}.message-content-con .message-content-top-bar .mes-back-btn-con{position:absolute;width:70px;height:30px;left:0;top:5px}.message-content-con .message-content-top-bar .mes-title{position:absolute;top:0;right:70px;bottom:0;left:70px;line-height:40px;padding:0 30px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center}.message-content-con .mes-time-con{position:absolute;width:100%;top:40px;left:0;padding:20px 0;text-align:center;font-size:14px;color:#b7b7b5}.message-content-con .message-content-body{position:absolute;top:90px;right:0;bottom:0;left:0;overflow:auto}.message-content-con .message-content-body .message-content{padding:10px 20px}.back-message-list-enter,.back-message-list-leave-to{opacity:0}.back-message-list-enter-active,.back-message-list-leave-active{transition:all .5s}.back-message-list-enter-to,.back-message-list-leave{opacity:1}.view-message-enter,.view-message-leave-to{opacity:0}.view-message-enter-active,.view-message-leave-active{transition:all .5s}.view-message-enter-to,.view-message-leave{opacity:1}.mes-current-type-btn-enter,.mes-current-type-btn-leave-to{opacity:0;width:0}.mes-current-type-btn-enter-active,.mes-current-type-btn-leave-active{transition:all .3s}.mes-current-type-btn-enter-to,.mes-current-type-btn-leave{opacity:1;width:12px}\", \"\", {\"version\":3,\"sources\":[\"/Users/zhangyunlong/Downloads/my-project/src/page/message/message.vue\"],\"names\":[],\"mappings\":\"AACA,kBACE,kBAAmB,AACnB,OAAU,AACV,MAAS,AACT,QAAW,AACX,QAAY,CACb,AACD,sBACE,kBAAmB,AACnB,OAAQ,AACR,SAAU,AACV,YAAa,AACb,SAAU,AACV,cAAgB,CACjB,AACD,0BACE,aAAc,AACd,cAAe,AACf,gCAAkC,CACnC,AACD,qCACE,WAAa,CACd,AACD,qDACE,WAAa,CACd,AACD,+CACE,kBAAoB,CACrB,AACD,2DACE,kBAAoB,CACrB,AACD,6CACE,gBAAkB,CACnB,AACD,qBACE,kBAAmB,AACnB,SAAU,AACV,WAAY,AACZ,YAAa,AACb,WAAY,AACZ,gBAAkB,AAClB,kBAAmB,AACnB,2CAAgD,AAChD,aAAe,CAChB,AACD,6CACE,WAAY,AACZ,WAAa,CACd,AACD,8CACE,YAAa,AACb,WAAY,AACZ,gBAAkB,AAClB,kBAAmB,AACnB,OAAQ,AACR,MAAO,AACP,+BAAiC,CAClC,AACD,gEACE,kBAAmB,AACnB,WAAY,AACZ,YAAa,AACb,OAAQ,AACR,OAAS,CACV,AACD,yDACE,kBAAmB,AACnB,MAAO,AACP,WAAY,AACZ,SAAU,AACV,UAAW,AACX,iBAAkB,AAClB,eAAgB,AAChB,mBAAoB,AACpB,gBAAiB,AACjB,uBAAwB,AACxB,iBAAmB,CACpB,AACD,mCACE,kBAAmB,AACnB,WAAY,AACZ,SAAU,AACV,OAAQ,AACR,eAAgB,AAChB,kBAAmB,AACnB,eAAgB,AAChB,aAAe,CAChB,AACD,2CACE,kBAAmB,AACnB,SAAU,AACV,QAAS,AACT,SAAU,AACV,OAAQ,AACR,aAAe,CAChB,AACD,4DACE,iBAAmB,CACpB,AACD,qDAEE,SAAW,CACZ,AACD,gEAEE,kBAAoB,CACrB,AACD,qDAEE,SAAW,CACZ,AACD,2CAEE,SAAW,CACZ,AACD,sDAEE,kBAAoB,CACrB,AACD,2CAEE,SAAW,CACZ,AACD,2DAEE,UAAW,AACX,OAAS,CACV,AACD,sEAEE,kBAAoB,CACrB,AACD,2DAEE,UAAW,AACX,UAAY,CACb\",\"file\":\"message.vue\",\"sourcesContent\":[\"\\n.message-main-con {\\n  position: absolute;\\n  left: 0px;\\n  top: 0px;\\n  right: 0px;\\n  bottom: 0px;\\n}\\n.message-mainlist-con {\\n  position: absolute;\\n  left: 0;\\n  top: 10px;\\n  width: 300px;\\n  bottom: 0;\\n  padding: 10px 0;\\n}\\n.message-mainlist-con div {\\n  padding: 10px;\\n  margin: 0 20px;\\n  border-bottom: 1px dashed #d2d3d2;\\n}\\n.message-mainlist-con div:last-child {\\n  border: none;\\n}\\n.message-mainlist-con div .message-count-badge-outer {\\n  float: right;\\n}\\n.message-mainlist-con div .message-count-badge {\\n  background: #d2d3d2;\\n}\\n.message-mainlist-con div:first-child .message-count-badge {\\n  background: #ed3f14;\\n}\\n.message-mainlist-con div .mes-type-btn-text {\\n  margin-left: 10px;\\n}\\n.message-content-con {\\n  position: absolute;\\n  top: 10px;\\n  right: 10px;\\n  bottom: 10px;\\n  left: 300px;\\n  background: white;\\n  border-radius: 3px;\\n  box-shadow: 2px 2px 10px 2px rgba(0, 0, 0, 0.1);\\n  overflow: auto;\\n}\\n.message-content-con .message-title-list-con {\\n  width: 100%;\\n  height: 100%;\\n}\\n.message-content-con .message-content-top-bar {\\n  height: 40px;\\n  width: 100%;\\n  background: white;\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  border-bottom: 1px solid #dededb;\\n}\\n.message-content-con .message-content-top-bar .mes-back-btn-con {\\n  position: absolute;\\n  width: 70px;\\n  height: 30px;\\n  left: 0;\\n  top: 5px;\\n}\\n.message-content-con .message-content-top-bar .mes-title {\\n  position: absolute;\\n  top: 0;\\n  right: 70px;\\n  bottom: 0;\\n  left: 70px;\\n  line-height: 40px;\\n  padding: 0 30px;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  text-align: center;\\n}\\n.message-content-con .mes-time-con {\\n  position: absolute;\\n  width: 100%;\\n  top: 40px;\\n  left: 0;\\n  padding: 20px 0;\\n  text-align: center;\\n  font-size: 14px;\\n  color: #b7b7b5;\\n}\\n.message-content-con .message-content-body {\\n  position: absolute;\\n  top: 90px;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  overflow: auto;\\n}\\n.message-content-con .message-content-body .message-content {\\n  padding: 10px 20px;\\n}\\n.back-message-list-enter,\\n.back-message-list-leave-to {\\n  opacity: 0;\\n}\\n.back-message-list-enter-active,\\n.back-message-list-leave-active {\\n  transition: all .5s;\\n}\\n.back-message-list-enter-to,\\n.back-message-list-leave {\\n  opacity: 1;\\n}\\n.view-message-enter,\\n.view-message-leave-to {\\n  opacity: 0;\\n}\\n.view-message-enter-active,\\n.view-message-leave-active {\\n  transition: all .5s;\\n}\\n.view-message-enter-to,\\n.view-message-leave {\\n  opacity: 1;\\n}\\n.mes-current-type-btn-enter,\\n.mes-current-type-btn-leave-to {\\n  opacity: 0;\\n  width: 0;\\n}\\n.mes-current-type-btn-enter-active,\\n.mes-current-type-btn-leave-active {\\n  transition: all .3s;\\n}\\n.mes-current-type-btn-enter-to,\\n.mes-current-type-btn-leave {\\n  opacity: 1;\\n  width: 12px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 804:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(769);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(649)(\"efe1a990\", content, true);\n\n/***/ }),\n\n/***/ 840:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"message-main-con\"\n  }, [_c('div', {\n    staticClass: \"message-mainlist-con\"\n  }, [(this.author_key == 1) ? _c('div', [_c('Button', {\n    attrs: {\n      \"long\": \"\",\n      \"type\": \"text\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.setCurrentMesType('unread')\n      }\n    }\n  }, [_c('transition', {\n    attrs: {\n      \"name\": \"mes-current-type-btn\"\n    }\n  }, [_c('Icon', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.currentMessageType === 'unread'),\n      expression: \"currentMessageType === 'unread'\"\n    }],\n    attrs: {\n      \"type\": \"checkmark\"\n    }\n  })], 1), _vm._v(\" \"), _c('span', {\n    staticClass: \"mes-type-btn-text\"\n  }, [_vm._v(\"未读消息\")]), _vm._v(\" \"), _c('Badge', {\n    staticClass: \"message-count-badge-outer\",\n    attrs: {\n      \"class-name\": \"message-count-badge\",\n      \"count\": _vm.unreadCount\n    }\n  })], 1)], 1) : _vm._e(), _vm._v(\" \"), (this.author_key == 1) ? _c('div', [_c('Button', {\n    attrs: {\n      \"long\": \"\",\n      \"type\": \"text\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.setCurrentMesType('hasread')\n      }\n    }\n  }, [_c('transition', {\n    attrs: {\n      \"name\": \"mes-current-type-btn\"\n    }\n  }, [_c('Icon', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.currentMessageType === 'hasread'),\n      expression: \"currentMessageType === 'hasread'\"\n    }],\n    attrs: {\n      \"type\": \"checkmark\"\n    }\n  })], 1), _vm._v(\" \"), _c('span', {\n    staticClass: \"mes-type-btn-text\"\n  }, [_vm._v(\"已读消息\")]), _vm._v(\" \"), _c('Badge', {\n    staticClass: \"message-count-badge-outer\",\n    attrs: {\n      \"class-name\": \"message-count-badge\",\n      \"count\": _vm.hasreadCount\n    }\n  })], 1)], 1) : _vm._e(), _vm._v(\" \"), _c('div', [_c('Button', {\n    attrs: {\n      \"long\": \"\",\n      \"type\": \"text\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.setCurrentMesType('systemMsg')\n      }\n    }\n  }, [_c('transition', {\n    attrs: {\n      \"name\": \"mes-current-type-btn\"\n    }\n  }, [_c('Icon', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.currentMessageType === 'systemMsg'),\n      expression: \"currentMessageType === 'systemMsg'\"\n    }],\n    attrs: {\n      \"type\": \"checkmark\"\n    }\n  })], 1), _vm._v(\" \"), _c('span', {\n    staticClass: \"mes-type-btn-text\"\n  }, [_vm._v(\"系统消息\")]), _vm._v(\" \"), _c('Badge', {\n    staticClass: \"message-count-badge-outer\",\n    attrs: {\n      \"class-name\": \"message-count-badge\",\n      \"count\": _vm.systemMsgCount\n    }\n  })], 1)], 1)]), _vm._v(\" \"), _c('div', {\n    staticClass: \"message-content-con\"\n  }, [_c('transition', {\n    attrs: {\n      \"name\": \"view-message\"\n    }\n  }, [(_vm.showMesTitleList) ? _c('div', {\n    staticClass: \"message-title-list-con\"\n  }, [_c('Table', {\n    ref: \"messageList\",\n    attrs: {\n      \"columns\": _vm.mesTitleColumns,\n      \"data\": _vm.currentMesList,\n      \"no-data-text\": _vm.noDataText\n    }\n  })], 1) : _vm._e()]), _vm._v(\" \"), _c('transition', {\n    attrs: {\n      \"name\": \"back-message-list\"\n    }\n  }, [(!_vm.showMesTitleList) ? _c('div', {\n    staticClass: \"message-view-content-con\"\n  }, [_c('div', {\n    staticClass: \"message-content-top-bar\"\n  }, [_c('span', {\n    staticClass: \"mes-back-btn-con\"\n  }, [_c('Button', {\n    attrs: {\n      \"type\": \"text\"\n    },\n    on: {\n      \"click\": _vm.backMesTitleList\n    }\n  }, [_c('Icon', {\n    attrs: {\n      \"type\": \"chevron-left\"\n    }\n  }), _vm._v(\"  返回\")], 1)], 1), _vm._v(\" \"), _c('h3', {\n    staticClass: \"mes-title\"\n  }, [_vm._v(_vm._s(_vm.mes.title))])]), _vm._v(\" \"), _c('p', {\n    staticClass: \"mes-time-con\"\n  }, [_c('Icon', {\n    attrs: {\n      \"type\": \"android-time\"\n    }\n  }), _vm._v(\" \" + _vm._s(_vm.mes.time) + \"\\n        \")], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"message-content-body\"\n  }, [_c('p', {\n    staticClass: \"message-content\"\n  }, [_vm._v(_vm._s(_vm.mes.content))])])]) : _vm._e()])], 1)])\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/32.bd27d143ea9a2a81ccfc.js","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-adc1bd3a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./message.vue\")\n}\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./message.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-adc1bd3a\\\",\\\"hasScoped\\\":false}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./message.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/message/message.vue\n// module id = 677\n// module chunks = 32","<style lang=\"less\">\n  @import './message.less';\n</style>\n\n<template>\n  <div class=\"message-main-con\">\n    <div class=\"message-mainlist-con\">\n\n      <div v-if=\"this.author_key==1\">\n        <Button @click=\"setCurrentMesType('unread')\" long type=\"text\">\n          <transition name=\"mes-current-type-btn\">\n            <Icon v-show=\"currentMessageType === 'unread'\" type=\"checkmark\"></Icon>\n          </transition>\n          <span class=\"mes-type-btn-text\">未读消息</span>\n          <Badge class=\"message-count-badge-outer\" class-name=\"message-count-badge\" :count=\"unreadCount\"></Badge>\n        </Button>\n      </div>\n      <div v-if=\"this.author_key==1\">\n        <Button @click=\"setCurrentMesType('hasread')\" long type=\"text\">\n          <transition name=\"mes-current-type-btn\">\n            <Icon v-show=\"currentMessageType === 'hasread'\" type=\"checkmark\"></Icon>\n          </transition>\n          <span class=\"mes-type-btn-text\">已读消息</span>\n          <Badge class=\"message-count-badge-outer\" class-name=\"message-count-badge\" :count=\"hasreadCount\"></Badge>\n        </Button>\n      </div>\n      <div>\n        <Button @click=\"setCurrentMesType('systemMsg')\" long type=\"text\">\n          <transition name=\"mes-current-type-btn\">\n            <Icon v-show=\"currentMessageType === 'systemMsg'\" type=\"checkmark\"></Icon>\n          </transition>\n          <span class=\"mes-type-btn-text\">系统消息</span>\n          <Badge class=\"message-count-badge-outer\" class-name=\"message-count-badge\" :count=\"systemMsgCount\"></Badge>\n        </Button>\n      </div>\n\n      <!--<div>-->\n      <!--<Button @click=\"setCurrentMesType('recyclebin')\" long type=\"text\"><transition name=\"mes-current-type-btn\"><Icon v-show=\"currentMessageType === 'recyclebin'\" type=\"checkmark\"></Icon></transition><span class=\"mes-type-btn-text\">回收站</span><Badge class=\"message-count-badge-outer\" class-name=\"message-count-badge\" :count=\"recyclebinCount\"></Badge></Button>-->\n      <!--</div>-->\n    </div>\n    <div class=\"message-content-con\">\n      <transition name=\"view-message\">\n        <div v-if=\"showMesTitleList\" class=\"message-title-list-con\">\n          <Table ref=\"messageList\" :columns=\"mesTitleColumns\" :data=\"currentMesList\" :no-data-text=\"noDataText\"></Table>\n        </div>\n      </transition>\n      <transition name=\"back-message-list\">\n        <div v-if=\"!showMesTitleList\" class=\"message-view-content-con\">\n          <div class=\"message-content-top-bar\">\n            <span class=\"mes-back-btn-con\"><Button type=\"text\" @click=\"backMesTitleList\"><Icon\n              type=\"chevron-left\"></Icon>&nbsp;&nbsp;返回</Button></span>\n            <h3 class=\"mes-title\">{{ mes.title }}</h3>\n          </div>\n          <p class=\"mes-time-con\">\n            <Icon type=\"android-time\"></Icon>&nbsp;{{ mes.time }}\n          </p>\n          <div class=\"message-content-body\">\n            <p class=\"message-content\">{{ mes.content }}</p>\n          </div>\n        </div>\n      </transition>\n    </div>\n  </div>\n</template>\n\n<script>\n  import * as messageService from '../../services/message';\n\n  export default {\n    name: 'message',\n    data () {\n      const markAsreadBtn = (h, params) => {\n        return h('Button', {\n          props: {\n            size: 'small'\n          },\n          on: {\n            click: () => {\n              this.hasreadMesList.unshift(this.currentMesList.splice(params.index, 1)[0]);\n              // console.log(params);\n              let submitParams = [params.row.id];\n              messageService.noticeRead(submitParams).then(res => {\n                if (res.status == 200) {\n                  this.$Message.info('该条消息已阅读');\n                }\n              }).catch(error => {\n                console.log(error);\n              })\n            }\n          }\n        }, '标为已读');\n      };\n      const deleteMesBtn = (h, params) => {\n        return h('Button', {\n          props: {\n            size: 'small',\n            type: 'error'\n          },\n          on: {\n            click: () => {\n              this.recyclebinList.unshift(this.hasreadMesList.splice(params.index, 1)[0]);\n            }\n          }\n        }, '删除');\n      };\n      const restoreBtn = (h, params) => {\n        return h('Button', {\n          props: {\n            size: 'small'\n          },\n          on: {\n            click: () => {\n              this.hasreadMesList.unshift(this.recyclebinList.splice(params.index, 1)[0]);\n            }\n          }\n        }, '还原');\n      };\n      return {\n        author_key: '',\n        currentMesList: [],\n        unreadMesList: [],\n        hasreadMesList: [],\n        recyclebinList: [],\n        systemMsgList: [],\n        currentMessageType: 'unread',\n        showMesTitleList: true,\n        unreadCount: 0,\n        hasreadCount: 0,\n        recyclebinCount: 0,\n        systemMsgCount: 0,\n        noDataText: '暂无未读消息',\n        mes: {\n          title: '',\n          time: '',\n          content: ''\n        },\n        mesTitleColumns: [\n          // {\n          //     type: 'selection',\n          //     width: 50,\n          //     align: 'center'\n          // },\n          {\n            title: ' ',\n            key: 'content',\n            align: 'left',\n            ellipsis: true,\n            render: (h, params) => {\n              if (this.currentMessageType === 'systemMsg') {\n                return h('span', {}, params.row.content);\n              }\n              if (this.currentMessageType === 'unread' || this.currentMessageType === 'hasread') {\n                return h('a', {\n                  on: {\n                    click: () => {\n//                    this.showMesTitleList = false;\n//                    this.mes.title = params.row.content;\n//                    this.mes.time = this.formatDate(params.row.createTime);\n//                    this.getContent(params.index);\n                      let submitParams = [params.row.id];\n                      messageService.noticeRead(submitParams).then(res => {\n                        if (res.status == 200) {\n                          this.$router.push({\n                            path: 'appDetail',\n                            query: {\n                              applyId: params.row.detailUrl,\n                            }\n                          });\n                          this.hasreadMesList.unshift(this.currentMesList.splice(params.index, 1)[0]);\n                          this.$Message.info('该条消息已阅读');\n\n                        }\n                      }).catch(error => {\n                        console.log(error);\n                      })\n                    }\n                  }\n                }, params.row.content);\n              }\n\n            }\n          },\n          {\n            title: ' ',\n            key: 'time',\n            align: 'center',\n            width: 200,\n            render: (h, params) => {\n              return h('span', [\n                h('Icon', {\n                  props: {\n                    type: 'android-time',\n                    size: 12\n                  },\n                  style: {\n                    margin: '0 5px'\n                  }\n                }),\n                h('span', {\n                  props: {\n                    type: 'android-time',\n                    size: 12\n                  }\n                }, params.row.createTime)\n              ]);\n            }\n          },\n          {\n            title: ' ',\n            key: 'asread',\n            align: 'center',\n            width: 100,\n            render: (h, params) => {\n              if (this.currentMessageType === 'unread') {\n                return h('div', [\n                  markAsreadBtn(h, params)\n                ]);\n              } else if (this.currentMessageType === 'hasread') {\n//                return h('div', [\n//                  deleteMesBtn(h, params)\n//                ]);\n              } else {\n//                return h('div', [\n//                  restoreBtn(h, params)\n//                ]);\n              }\n            }\n          }\n        ]\n      };\n    },\n    methods: {\n      formatDate (time) {\n        let date = new Date(time);\n        let year = date.getFullYear();\n        let month = date.getMonth() + 1;\n        let day = date.getDate();\n        let hour = date.getHours();\n        let minute = date.getMinutes();\n        let second = date.getSeconds();\n        return year + '/' + month + '/' + day + '  ' + hour + ':' + minute + ':' + second;\n      },\n      backMesTitleList () {\n        this.showMesTitleList = true;\n      },\n      setCurrentMesType (type) {\n        if (this.currentMessageType !== type) {\n          this.showMesTitleList = true;\n        }\n        this.currentMessageType = type;\n        if (type === 'unread') {\n          this.noDataText = '暂无未读消息';\n          this.currentMesList = this.unreadMesList;\n        } else if (type === 'hasread') {\n          this.noDataText = '暂无已读消息';\n          this.currentMesList = this.hasreadMesList;\n        } else {\n          this.noDataText = '无系统消息';\n          this.currentMesList = this.systemMsgList;\n        }\n      },\n    },\n    mounted () {\n      this.author_key = localStorage.getItem('author_key');\n      console.log(this.author_key == 1)\n      if (this.author_key == 1) {\n        this.currentMessageType = 'unread';\n      } else {\n        this.currentMessageType = 'systemMsg';\n      }\n      messageService.getReminder().then(res => {\n        // console.log(res.length)\n        // localStorage.setItem('reminder', res.length);\n        this.currentMesList = this.unreadMesList = res;\n\n      }).catch(error => {\n        console.log(error);\n      })\n      messageService.getReadReminder().then(res => {\n        this.hasreadMesList = res;\n\n      }).catch(error => {\n        console.log(error);\n      })\n      messageService.getSystemMsg().then(res => {\n\n        if (this.author_key == 1) {\n          this.systemMsgList = res;\n        } else {\n          this.currentMesList = this.systemMsgList = res;\n        }\n      }).catch(error => {\n        console.log(error);\n      })\n      this.unreadCount = this.unreadMesList.length;\n      this.hasreadCount = this.hasreadMesList.length;\n      this.systemMsgCount = this.systemMsgList.length;\n    },\n    watch: {\n      unreadMesList (arr) {\n        this.unreadCount = arr.length;\n      },\n      hasreadMesList (arr) {\n        this.hasreadCount = arr.length;\n      },\n      systemMsgList (arr) {\n        this.systemMsgCount = arr.length;\n      }\n    }\n  };\n</script>\n\n\n\n\n// WEBPACK FOOTER //\n// message.vue?3aa82c7b","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".message-main-con{position:absolute;left:0;top:0;right:0;bottom:0}.message-mainlist-con{position:absolute;left:0;top:10px;width:300px;bottom:0;padding:10px 0}.message-mainlist-con div{padding:10px;margin:0 20px;border-bottom:1px dashed #d2d3d2}.message-mainlist-con div:last-child{border:none}.message-mainlist-con div .message-count-badge-outer{float:right}.message-mainlist-con div .message-count-badge{background:#d2d3d2}.message-mainlist-con div:first-child .message-count-badge{background:#ed3f14}.message-mainlist-con div .mes-type-btn-text{margin-left:10px}.message-content-con{position:absolute;top:10px;right:10px;bottom:10px;left:300px;background:#fff;border-radius:3px;box-shadow:2px 2px 10px 2px rgba(0,0,0,.1);overflow:auto}.message-content-con .message-title-list-con{width:100%;height:100%}.message-content-con .message-content-top-bar{height:40px;width:100%;background:#fff;position:absolute;left:0;top:0;border-bottom:1px solid #dededb}.message-content-con .message-content-top-bar .mes-back-btn-con{position:absolute;width:70px;height:30px;left:0;top:5px}.message-content-con .message-content-top-bar .mes-title{position:absolute;top:0;right:70px;bottom:0;left:70px;line-height:40px;padding:0 30px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center}.message-content-con .mes-time-con{position:absolute;width:100%;top:40px;left:0;padding:20px 0;text-align:center;font-size:14px;color:#b7b7b5}.message-content-con .message-content-body{position:absolute;top:90px;right:0;bottom:0;left:0;overflow:auto}.message-content-con .message-content-body .message-content{padding:10px 20px}.back-message-list-enter,.back-message-list-leave-to{opacity:0}.back-message-list-enter-active,.back-message-list-leave-active{transition:all .5s}.back-message-list-enter-to,.back-message-list-leave{opacity:1}.view-message-enter,.view-message-leave-to{opacity:0}.view-message-enter-active,.view-message-leave-active{transition:all .5s}.view-message-enter-to,.view-message-leave{opacity:1}.mes-current-type-btn-enter,.mes-current-type-btn-leave-to{opacity:0;width:0}.mes-current-type-btn-enter-active,.mes-current-type-btn-leave-active{transition:all .3s}.mes-current-type-btn-enter-to,.mes-current-type-btn-leave{opacity:1;width:12px}\", \"\", {\"version\":3,\"sources\":[\"/Users/zhangyunlong/Downloads/my-project/src/page/message/message.vue\"],\"names\":[],\"mappings\":\"AACA,kBACE,kBAAmB,AACnB,OAAU,AACV,MAAS,AACT,QAAW,AACX,QAAY,CACb,AACD,sBACE,kBAAmB,AACnB,OAAQ,AACR,SAAU,AACV,YAAa,AACb,SAAU,AACV,cAAgB,CACjB,AACD,0BACE,aAAc,AACd,cAAe,AACf,gCAAkC,CACnC,AACD,qCACE,WAAa,CACd,AACD,qDACE,WAAa,CACd,AACD,+CACE,kBAAoB,CACrB,AACD,2DACE,kBAAoB,CACrB,AACD,6CACE,gBAAkB,CACnB,AACD,qBACE,kBAAmB,AACnB,SAAU,AACV,WAAY,AACZ,YAAa,AACb,WAAY,AACZ,gBAAkB,AAClB,kBAAmB,AACnB,2CAAgD,AAChD,aAAe,CAChB,AACD,6CACE,WAAY,AACZ,WAAa,CACd,AACD,8CACE,YAAa,AACb,WAAY,AACZ,gBAAkB,AAClB,kBAAmB,AACnB,OAAQ,AACR,MAAO,AACP,+BAAiC,CAClC,AACD,gEACE,kBAAmB,AACnB,WAAY,AACZ,YAAa,AACb,OAAQ,AACR,OAAS,CACV,AACD,yDACE,kBAAmB,AACnB,MAAO,AACP,WAAY,AACZ,SAAU,AACV,UAAW,AACX,iBAAkB,AAClB,eAAgB,AAChB,mBAAoB,AACpB,gBAAiB,AACjB,uBAAwB,AACxB,iBAAmB,CACpB,AACD,mCACE,kBAAmB,AACnB,WAAY,AACZ,SAAU,AACV,OAAQ,AACR,eAAgB,AAChB,kBAAmB,AACnB,eAAgB,AAChB,aAAe,CAChB,AACD,2CACE,kBAAmB,AACnB,SAAU,AACV,QAAS,AACT,SAAU,AACV,OAAQ,AACR,aAAe,CAChB,AACD,4DACE,iBAAmB,CACpB,AACD,qDAEE,SAAW,CACZ,AACD,gEAEE,kBAAoB,CACrB,AACD,qDAEE,SAAW,CACZ,AACD,2CAEE,SAAW,CACZ,AACD,sDAEE,kBAAoB,CACrB,AACD,2CAEE,SAAW,CACZ,AACD,2DAEE,UAAW,AACX,OAAS,CACV,AACD,sEAEE,kBAAoB,CACrB,AACD,2DAEE,UAAW,AACX,UAAY,CACb\",\"file\":\"message.vue\",\"sourcesContent\":[\"\\n.message-main-con {\\n  position: absolute;\\n  left: 0px;\\n  top: 0px;\\n  right: 0px;\\n  bottom: 0px;\\n}\\n.message-mainlist-con {\\n  position: absolute;\\n  left: 0;\\n  top: 10px;\\n  width: 300px;\\n  bottom: 0;\\n  padding: 10px 0;\\n}\\n.message-mainlist-con div {\\n  padding: 10px;\\n  margin: 0 20px;\\n  border-bottom: 1px dashed #d2d3d2;\\n}\\n.message-mainlist-con div:last-child {\\n  border: none;\\n}\\n.message-mainlist-con div .message-count-badge-outer {\\n  float: right;\\n}\\n.message-mainlist-con div .message-count-badge {\\n  background: #d2d3d2;\\n}\\n.message-mainlist-con div:first-child .message-count-badge {\\n  background: #ed3f14;\\n}\\n.message-mainlist-con div .mes-type-btn-text {\\n  margin-left: 10px;\\n}\\n.message-content-con {\\n  position: absolute;\\n  top: 10px;\\n  right: 10px;\\n  bottom: 10px;\\n  left: 300px;\\n  background: white;\\n  border-radius: 3px;\\n  box-shadow: 2px 2px 10px 2px rgba(0, 0, 0, 0.1);\\n  overflow: auto;\\n}\\n.message-content-con .message-title-list-con {\\n  width: 100%;\\n  height: 100%;\\n}\\n.message-content-con .message-content-top-bar {\\n  height: 40px;\\n  width: 100%;\\n  background: white;\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  border-bottom: 1px solid #dededb;\\n}\\n.message-content-con .message-content-top-bar .mes-back-btn-con {\\n  position: absolute;\\n  width: 70px;\\n  height: 30px;\\n  left: 0;\\n  top: 5px;\\n}\\n.message-content-con .message-content-top-bar .mes-title {\\n  position: absolute;\\n  top: 0;\\n  right: 70px;\\n  bottom: 0;\\n  left: 70px;\\n  line-height: 40px;\\n  padding: 0 30px;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  text-align: center;\\n}\\n.message-content-con .mes-time-con {\\n  position: absolute;\\n  width: 100%;\\n  top: 40px;\\n  left: 0;\\n  padding: 20px 0;\\n  text-align: center;\\n  font-size: 14px;\\n  color: #b7b7b5;\\n}\\n.message-content-con .message-content-body {\\n  position: absolute;\\n  top: 90px;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  overflow: auto;\\n}\\n.message-content-con .message-content-body .message-content {\\n  padding: 10px 20px;\\n}\\n.back-message-list-enter,\\n.back-message-list-leave-to {\\n  opacity: 0;\\n}\\n.back-message-list-enter-active,\\n.back-message-list-leave-active {\\n  transition: all .5s;\\n}\\n.back-message-list-enter-to,\\n.back-message-list-leave {\\n  opacity: 1;\\n}\\n.view-message-enter,\\n.view-message-leave-to {\\n  opacity: 0;\\n}\\n.view-message-enter-active,\\n.view-message-leave-active {\\n  transition: all .5s;\\n}\\n.view-message-enter-to,\\n.view-message-leave {\\n  opacity: 1;\\n}\\n.mes-current-type-btn-enter,\\n.mes-current-type-btn-leave-to {\\n  opacity: 0;\\n  width: 0;\\n}\\n.mes-current-type-btn-enter-active,\\n.mes-current-type-btn-leave-active {\\n  transition: all .3s;\\n}\\n.mes-current-type-btn-enter-to,\\n.mes-current-type-btn-leave {\\n  opacity: 1;\\n  width: 12px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-adc1bd3a\",\"scoped\":false,\"hasInlineConfig\":false}!./~/_less-loader@4.0.5@less-loader/dist/cjs.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/page/message/message.vue\n// module id = 769\n// module chunks = 32","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-adc1bd3a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_less-loader@4.0.5@less-loader/dist/cjs.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./message.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"efe1a990\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-adc1bd3a\",\"scoped\":false,\"hasInlineConfig\":false}!./~/_less-loader@4.0.5@less-loader/dist/cjs.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/page/message/message.vue\n// module id = 804\n// module chunks = 32","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"message-main-con\"\n  }, [_c('div', {\n    staticClass: \"message-mainlist-con\"\n  }, [(this.author_key == 1) ? _c('div', [_c('Button', {\n    attrs: {\n      \"long\": \"\",\n      \"type\": \"text\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.setCurrentMesType('unread')\n      }\n    }\n  }, [_c('transition', {\n    attrs: {\n      \"name\": \"mes-current-type-btn\"\n    }\n  }, [_c('Icon', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.currentMessageType === 'unread'),\n      expression: \"currentMessageType === 'unread'\"\n    }],\n    attrs: {\n      \"type\": \"checkmark\"\n    }\n  })], 1), _vm._v(\" \"), _c('span', {\n    staticClass: \"mes-type-btn-text\"\n  }, [_vm._v(\"未读消息\")]), _vm._v(\" \"), _c('Badge', {\n    staticClass: \"message-count-badge-outer\",\n    attrs: {\n      \"class-name\": \"message-count-badge\",\n      \"count\": _vm.unreadCount\n    }\n  })], 1)], 1) : _vm._e(), _vm._v(\" \"), (this.author_key == 1) ? _c('div', [_c('Button', {\n    attrs: {\n      \"long\": \"\",\n      \"type\": \"text\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.setCurrentMesType('hasread')\n      }\n    }\n  }, [_c('transition', {\n    attrs: {\n      \"name\": \"mes-current-type-btn\"\n    }\n  }, [_c('Icon', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.currentMessageType === 'hasread'),\n      expression: \"currentMessageType === 'hasread'\"\n    }],\n    attrs: {\n      \"type\": \"checkmark\"\n    }\n  })], 1), _vm._v(\" \"), _c('span', {\n    staticClass: \"mes-type-btn-text\"\n  }, [_vm._v(\"已读消息\")]), _vm._v(\" \"), _c('Badge', {\n    staticClass: \"message-count-badge-outer\",\n    attrs: {\n      \"class-name\": \"message-count-badge\",\n      \"count\": _vm.hasreadCount\n    }\n  })], 1)], 1) : _vm._e(), _vm._v(\" \"), _c('div', [_c('Button', {\n    attrs: {\n      \"long\": \"\",\n      \"type\": \"text\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.setCurrentMesType('systemMsg')\n      }\n    }\n  }, [_c('transition', {\n    attrs: {\n      \"name\": \"mes-current-type-btn\"\n    }\n  }, [_c('Icon', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.currentMessageType === 'systemMsg'),\n      expression: \"currentMessageType === 'systemMsg'\"\n    }],\n    attrs: {\n      \"type\": \"checkmark\"\n    }\n  })], 1), _vm._v(\" \"), _c('span', {\n    staticClass: \"mes-type-btn-text\"\n  }, [_vm._v(\"系统消息\")]), _vm._v(\" \"), _c('Badge', {\n    staticClass: \"message-count-badge-outer\",\n    attrs: {\n      \"class-name\": \"message-count-badge\",\n      \"count\": _vm.systemMsgCount\n    }\n  })], 1)], 1)]), _vm._v(\" \"), _c('div', {\n    staticClass: \"message-content-con\"\n  }, [_c('transition', {\n    attrs: {\n      \"name\": \"view-message\"\n    }\n  }, [(_vm.showMesTitleList) ? _c('div', {\n    staticClass: \"message-title-list-con\"\n  }, [_c('Table', {\n    ref: \"messageList\",\n    attrs: {\n      \"columns\": _vm.mesTitleColumns,\n      \"data\": _vm.currentMesList,\n      \"no-data-text\": _vm.noDataText\n    }\n  })], 1) : _vm._e()]), _vm._v(\" \"), _c('transition', {\n    attrs: {\n      \"name\": \"back-message-list\"\n    }\n  }, [(!_vm.showMesTitleList) ? _c('div', {\n    staticClass: \"message-view-content-con\"\n  }, [_c('div', {\n    staticClass: \"message-content-top-bar\"\n  }, [_c('span', {\n    staticClass: \"mes-back-btn-con\"\n  }, [_c('Button', {\n    attrs: {\n      \"type\": \"text\"\n    },\n    on: {\n      \"click\": _vm.backMesTitleList\n    }\n  }, [_c('Icon', {\n    attrs: {\n      \"type\": \"chevron-left\"\n    }\n  }), _vm._v(\"  返回\")], 1)], 1), _vm._v(\" \"), _c('h3', {\n    staticClass: \"mes-title\"\n  }, [_vm._v(_vm._s(_vm.mes.title))])]), _vm._v(\" \"), _c('p', {\n    staticClass: \"mes-time-con\"\n  }, [_c('Icon', {\n    attrs: {\n      \"type\": \"android-time\"\n    }\n  }), _vm._v(\" \" + _vm._s(_vm.mes.time) + \"\\n        \")], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"message-content-body\"\n  }, [_c('p', {\n    staticClass: \"message-content\"\n  }, [_vm._v(_vm._s(_vm.mes.content))])])]) : _vm._e()])], 1)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-adc1bd3a\",\"hasScoped\":false}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/page/message/message.vue\n// module id = 840\n// module chunks = 32"],"sourceRoot":""}